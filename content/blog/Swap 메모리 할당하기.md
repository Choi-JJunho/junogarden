---
title: Swap λ©”λ¨λ¦¬ ν• λ‹Ήν•κΈ°
description: ubuntuμ— swap λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•΄λ³΄μ
date: 2023-05-25T05:37:51.654Z
tags:
  - Linux
---
# μ„λ΅ 

EC2 μ„λ²„λ΅ Spring Projectλ¥Ό κµ¬λ™ν•λ ¤κ³ ν•λ”λ° ν• λ‹Ήλ λ©”λ¨λ¦¬κ°€ 1GBλ°–μ— μ—†λ‹¤...

λ©”λ¨λ¦¬λ¥Ό λλ¦¬κ³ μ‹¶μ§€λ§ λ‚λ” λμ΄μ—†λ‹¤... π’Έ

μ–΄λ–¤ λ°©λ²•μ΄ μμ„κΉ..?

# Swap λ©”λ¨λ¦¬ μ„¤μ •

Swap λ©”λ¨λ¦¬ : **μ‹¤μ  λ©”λ¨λ¦¬(RAM)κ°€ κ°€λ“ μ°¨κ³  λ” λ§μ€ λ©”λ¨λ¦¬κ°€ ν•„μ”ν•  λ• λ””μ¤ν¬ κ³µκ°„(κ°€μƒ λ©”λ¨λ¦¬)μΌλ΅ λ€μ²΄**ν•λ” κ²ƒμ„ μλ―Έν•λ‹¤.

μ‰½κ²λ§ν•΄ λ””μ¤ν¬ μΌλ¶€λ¥Ό λ©”λ¨λ¦¬λ΅ μ‚¬μ©ν•κ² λ‹¤λ” μλ―Έλ‹¤.

## λ©”λ¨λ¦¬ μ©λ‰ ν™•μΈ

μ°μ„  λ©”λ¨λ¦¬ μ©λ‰μ„ ν™•μΈν•΄λ³Έλ‹¤.

`free -h`

![](/images/2c8dc1d6-ab45-4749-8834-8e51ea5fdfe0-image.png)

## λ””μ¤ν¬ μ©λ‰ ν™•μΈ

λ””μ¤ν¬ μ©λ‰λ„ ν™•μΈν•΄λ³Έλ‹¤.

Swapλ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•  μ μμ„ μ§€ λ””μ¤ν¬ μ©λ‰μ„ ν™•μΈν•΄λ³Έλ‹¤.

`df -h`

![](/images/c4598883-c3f1-40c4-8da3-a30abebf63f2-image.png)


## Swap λ©”λ¨λ¦¬ μ„¤μ •

ν†µμƒ swap λ©”λ¨λ¦¬λ” κΈ°μ΅΄ RAM μ©λ‰μ 2λ°° ν¬κΈ°λ§νΌ μ„¤μ •ν•΄μ£Όλ” νΈμ΄λ‹¤.

ubuntuμ—μ„λ” swapfileμ„ μ΄μ©ν•μ—¬ swap λ©”λ¨λ¦¬λ¥Ό μ„¤μ •ν•λ‹¤.

![](/images/051875d0-4d9e-48a3-b1bf-428cbc9bedb9-image.png)

`sudo fallocate -l 2G /swapfile`

![](/images/47f61d44-58f6-4ae1-aeca-7a7beffe0a5c-image.png)

`sudo chmod 600 /swapfile`

μƒμ„±ν• swapfileμ„ μ΄μ©ν•΄μ„ swap λ©”λ¨λ¦¬λ¥Ό ν™μ„±ν™” ν•λ‹¤.

`sudo mkswap /swapfile`

`sudo swapon /swapfile`

![](/images/ff106f2d-6b6b-4920-a395-69e871298d1b-image.png)

## ν™•μΈν•κΈ°

swap λ©”λ¨λ¦¬κ°€ μ μ μ©λμ—λ”μ§€ ν™•μΈν•λ‹¤.

![](/images/b6e33313-3f7e-49ea-8610-392ab0264814-image.png)


## (μ„ νƒ)

μ‹μ¤ν…μ΄ μ¬λ¶€ν… λ  λ• (μΈμ¤ν„΄μ¤κ°€ μ¬λ¶€ν… λ  λ•) swap λ©”λ¨λ¦¬ μ„¤μ •μ΄ μ΄κΈ°ν™” λλ‹¤.

μ¬λ¶€ν… μ‹μ—λ„ swap λ©”λ¨λ¦¬λ¥Ό μ„¤μ •ν•΄μ£ΌκΈ° μ„ν•΄ λ‹¤μκ³Ό κ°™μ€ μ„¤μ •μ„ μ¶”κ°€ν•΄μ¤„ μ μλ‹¤.

`sudo vi /etc/fstab`

![](/images/14da8455-2035-40bd-a45d-f83986cb0782-image.png)


νμΌ λ‚΄λ¶€μ— λ‹¤μ λ¬Έκµ¬λ¥Ό μ¶”κ°€ν•λ‹¤

`/swapfile swap swap defaults 0 0`

![](/images/04cd3362-c778-4017-b67b-6a3674dca2ad-image.png)


# Reference

https://facerain.club/swap-memory/
